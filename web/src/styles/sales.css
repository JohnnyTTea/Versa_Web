/* ===================== Sales Page 通用 ===================== */

/* 搜索栏样式（对齐 Product） */
.search-form {
  display: flex;
  align-items: center;
  gap: 10px;
  margin: 6px 0 14px;
  padding: 12px 14px;
  border-radius: 14px;
  background: rgba(255, 255, 255, 0.85);
  border: 1px solid rgba(15, 23, 42, 0.08);
  box-shadow: 0 8px 18px rgba(15, 23, 42, 0.06);
  position: sticky;
  top: 70px;
  z-index: 5;
}

.sales-search-form {
  border-radius: 14px;
}

.search-label {
  font-size: 14px;
  font-weight: 600;
  color: #1f2937;
}

.search-form input[type="text"],
.sales-search-input {
  padding: 8px 12px;
  font-size: 14px;
  width: 180px;
  border: 1px solid #e2e8f0;
  border-radius: 999px;
  background: #f8fafc;
  color: #0f172a;
}

select.sales-search-input {
  width: 140px;
}

.search-form button {
  padding: 8px 14px;
  font-size: 14px;
  background-color: #0f172a;
  border: none;
  border-radius: 10px;
  color: #fff;
  cursor: pointer;
  transition: transform 150ms ease, box-shadow 150ms ease;
}

.search-form button:hover {
  transform: translateY(-1px);
  box-shadow: 0 8px 16px rgba(15, 23, 42, 0.2);
}

.sales-search-reset {
  margin-left: 8px;
  background-color: #334155;
}

/* 整体卡片风格 */
.sales-info {
  margin-top: 10px;
  font-size: 14px;
}

/* 通用字段包装 */
.sales-field {
  display: flex;
  flex-direction: column;
  margin-bottom: 6px;
}

.sales-field label {
  font-size: 13px;
  color: #555;
  margin-bottom: 2px;
}

.sales-input,
.sales-textarea {
  width: 450px;
  padding: 4px 6px;
  font-size: 13px;
  border: 1px solid #ccc;
  border-radius: 4px;
  background-color: #fff;
  box-sizing: border-box;
}

.sales-input[readonly],
.sales-textarea[readonly] {
  background-color: #fdfdfd;
}

/* ===================== 顶部：Ord.No. 行 ===================== */

.sales-row-top {
  display: flex;
  flex-wrap: wrap;
  gap: 8px 18px; /* 行间 8px，列间 18px */
  margin-bottom: 10px;
}

.sales-row-top .sales-field {
  flex: 0 0 auto; /* 自适应宽度 */
  min-width: 100px;
  max-width: 120px;
}

.sales-row-top .sales-input {
  width: auto;
  max-width: 180px; /* 订单号、Cust ID 这类长度 */
}

/* ===================== Bill To / Ship To 区块 ===================== */

.sales-bill-ship {
  display: grid;
  grid-template-columns: 1.1fr 1.1fr;
  gap: 24px; /* 左右 panel 之间距离 */
  margin: 10px 0 5px 0;
}

.sales-panel {
  background-color: #f3f3f3;
  padding: 10px 12px;
  border-radius: 6px;
  box-shadow: inset 0 0 0 1px #e2e2e2;
}

.sales-panel-title {
  font-weight: bold;
  margin-bottom: 6px;
  color: #333;
}

/* panel 内的横向小行 */
.sales-row-inline {
  display: flex;
  flex-wrap: wrap; /* 超出就换行，整体靠左 */
  gap: 10px 12px;
  margin-bottom: 4px;
}

.sales-row-inline .sales-field {
  flex: 0 0 20px;
  margin-bottom: 0;
}

/* 小/超小字段（Loc / State / Zip 等）更窄一点 */
.sales-row-inline .sales-field.small {
  flex: 0 0 20px;
  max-width: 150px;
}

.sales-row-inline .sales-field.x-small {
  flex: 0 0 20px;
  max-width: 80px;
}

/* City / State / Zip / Country 一行 */
.sales-row-inline .sales-input[name*="city" i],
.sales-row-inline .sales-input[id*="city" i] {
  width: auto;
  max-width: 170px;
}

.sales-row-inline .sales-input[name*="state" i],
.sales-row-inline .sales-input[id*="state" i] {
  width: auto;
  max-width: 70px;
  text-transform: uppercase;
}

.sales-row-inline .sales-input[name*="zip" i],
.sales-row-inline .sales-input[id*="zip" i],
.sales-row-inline .sales-input[name*="postal" i],
.sales-row-inline .sales-input[id*="postal" i] {
  width: auto;
  max-width: 110px;
}

.sales-row-inline .sales-input[name*="country" i],
.sales-row-inline .sales-input[id*="country" i] {
  width: auto;
  max-width: 150px;
}

/* Address1/2 稍长一点（但仍然是半栏感觉） */
.sales-row-inline .sales-input[name*="address" i],
.sales-row-inline .sales-input[id*="address" i],
.sales-row-inline .sales-input[name*="addr" i],
.sales-row-inline .sales-input[id*="addr" i] {
  width: auto;
  max-width: 360px;
}

/* Phone / Fax / Email 在同一行，长度偏短 */
.sales-row-inline .sales-input[name*="phone" i],
.sales-row-inline .sales-input[id*="phone" i],
.sales-row-inline .sales-input[name*="fax" i],
.sales-row-inline .sales-input[id*="fax" i] {
  width: auto;
  max-width: 160px;
}

.sales-row-inline .sales-input[name*="email" i],
.sales-row-inline .sales-input[id*="email" i] {
  max-width: 400px;
}

/* 备注 textarea */
.sales-textarea {
  min-height: 64px;
  max-width: 64ch;
}

/* ===================== 中间 Terms / PO / Date 信息区（新版，防止覆盖） ===================== */

/* ===================== 中间 Terms / PO / Date 信息区 ===================== */

.sales-middle {
  display: grid;
  grid-template-columns: 1.1fr 1.4fr;
  gap: 10px 20px; /* 行稍紧凑，列保留空隙 */
  margin-top: 10px;
}

/* 左半：Terms / N.Days / Disc / D.Days / L.Fee / Notes */
.sales-middle-left .sales-row-inline {
  display: flex;
  flex-wrap: nowrap; /* 小字段尽量排成一行 */
  gap: 8px 10px;
  margin-bottom: 4px;
}

/* 左侧小数字字段更短 */
.sales-middle-left .sales-row-inline .sales-field.small,
.sales-middle-left .sales-row-inline .sales-field.x-small {
  flex: 0 0 90px;
  max-width: 90px;
}

.sales-middle-left .sales-row-inline .sales-input {
  text-align: right;
}

/* 左侧 Notes：宽一点，但高度控制在一行多一点 */
.sales-middle-left .sales-field textarea {
  resize: vertical;
  max-width: 360px;
  min-height: 40px;
}

/* 右半：Cust PO / Dates / Status / Freight / Tracking / Notes / Contact */
.sales-middle-right {
  display: flex;
  flex-wrap: wrap;
  gap: 6px 14px;
}

/* 右侧每个字段宽度适中，方便压进三行 */
.sales-middle-right .sales-field {
  flex: 0 0 auto;
  min-width: 140px;
  max-width: 180px;
}

/* 日期 / 状态字段更短一点 */
.sales-middle-right .sales-input[type="date"],
.sales-middle-right .sales-input[name*="date" i],
.sales-middle-right .sales-input[id*="date" i] {
  width: auto;
  max-width: 130px;
}

.sales-middle-right select {
  width: auto;
  max-width: 130px;
}

/* 右侧 Notes / Contact 等放在第三行自然排布 */
.sales-middle-right .sales-field textarea {
  min-height: 40px;
  max-width: 260px;
}

/* 通用的小数字类字段（中间区域） */
.sales-middle .sales-input[name*="disc" i],
.sales-middle .sales-input[id*="disc" i],
.sales-middle .sales-input[name*="fee" i],
.sales-middle .sales-input[id*="fee" i],
.sales-middle .sales-input[name*="days" i],
.sales-middle .sales-input[id*="days" i],
.sales-middle .sales-input[name*="qty" i],
.sales-middle .sales-input[id*="qty" i] {
  width: auto;
  max-width: 90px;
  text-align: right;
}

/* 输入型文本字段最大宽度 */
.sales-middle .sales-input {
  width: auto;
  max-width: 220px;
}

/* ===================== Items（明细表） ===================== */

.sales-lines-wrapper {
  margin-top: 15px;
}

.sales-lines-title {
  font-weight: bold;
  margin-bottom: 6px;
  color: #333;
}

.sales-lines-table th,
.sales-lines-table td {
  font-size: 13px;
}

/* ===================== 合计区域（公共） ===================== */

.sales-totals {
  margin-top: 10px;
  padding-top: 8px;
  border-top: 1px solid #ddd;
}

/* ===================== 客户端风格 Totals：9 列，只有 4 个字段两行 ===================== */

.sales-totals.totals-legacy {
  display: block;
  padding-top: 5px;
}

.totals-grid {
  display: grid;
  grid-template-columns: repeat(10, auto); /* 9 列 */
  column-gap: 12px;
  justify-content: flex-end; /* 整排靠右 */
  margin-bottom: 30px; /* 或 32px / 40px */
}

/* 每一列一个单元：上 label，下面 1~2 行输入框 */
.totals-cell {
  display: flex;
  flex-direction: column;
  align-items: flex-end; /* 单元内靠右 */
}

.totals-cell label {
  font-size: 12px;
  margin-bottom: 2px;
  color: #555;
}

/* 上下两行输入框：高度一致，数字右对齐 */
.totals-cell .sales-input {
  width: 80px;
  height: 20px;
  padding: 2px 4px;
  font-size: 12px;
  text-align: right;
  box-sizing: border-box;
  margin-bottom: 2px;
}

/* 第二行输入框（only for .two-lines） */
.totals-cell.two-lines .second-row {
  margin-top: 2px;
}

/* 单行字段：只显示第一行 */
.totals-cell.one-line .second-row {
  display: none;
}

/* 红色金额（Total、Balance 等可以直接在 input 上加 .highlight-total） */
.highlight-total {
  color: #a51212;
  font-weight: bold;
}

/* ===================== 错误提示框 ===================== */

.message-box {
  background-color: #ffe0e0;
  border: 1px solid #ff6767;
  color: #b30000;
  padding: 15px 20px;
  margin-bottom: 18px;
  font-size: 20px;
  font-weight: bold;
  text-align: center;
  border-radius: 6px;
}

/* ===================== 响应式适配 ===================== */

@media (max-width: 1200px) {
  /* 顶部 7 个字段自动换行，仍然靠左 */
  .sales-row-top {
    flex-wrap: wrap;
  }

  .sales-bill-ship {
    grid-template-columns: 1fr;
  }

  /* 中间区域上下堆叠，右侧 4 列变 2 列 */
  .sales-middle {
    grid-template-columns: 1fr;
    row-gap: 8px;
  }

  .sales-middle-right {
    grid-template-columns: repeat(2, minmax(180px, 1fr));
  }
}

@media (max-width: 768px) {
  /* 右侧再压缩为 1 列 */
  .sales-middle-right {
    grid-template-columns: 1fr;
  }
}
